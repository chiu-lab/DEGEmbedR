% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/GenerateTextEmbedding.R
\name{GenerateTextEmbedding}
\alias{GenerateTextEmbedding}
\title{Generate numerical embeddings for input text using the OpenAI API}
\usage{
GenerateTextEmbedding(
  text,
  api_key,
  api_url = "https://api.openai.com/v1/embeddings",
  request_timeout_sec = 60,
  output = TRUE
)
}
\arguments{
\item{text}{Character vector of text strings to embed (e.g., descriptions of pathways or MOAs,
either generated by \code{GeneratePathwayDescription()} or written by the user).}

\item{api_key}{Character. OpenAI API key (obtainable from \url{https://openai.com/api/}).}

\item{api_url}{Character. API endpoint for the OpenAI embeddings model.
Default: \code{"https://api.openai.com/v1/embeddings"}.}

\item{request_timeout_sec}{Numeric. Timeout for the API request in seconds.
Default: \code{60}.}

\item{output}{Logical. Whether to save the resulting embedding matrix as a timestamped
\code{.txt} file. Default: \code{TRUE}.}
}
\value{
A numeric matrix where each row corresponds to a text input and each column represents one
embedding dimension (length = 3072).
}
\description{
Converts input text into dense vector embeddings using the OpenAI Embeddings API. This function
supports generating LLM-based embeddings for functional terms such as pathways or mechanisms of
action (MOA), which can then be used in downstream statistical testing.
}
\details{
This function interfaces with the OpenAI \code{text-embedding-3-large} model, which converts
natural language into high-dimensional numeric representations (embeddings). The returned
matrix has one row per input text and 3,072 columns corresponding to embedding dimensions.

Row names are taken from \code{names(text)} if provided; otherwise, truncated versions of the
input strings are used.
}
\examples{
\dontrun{
# Load example text descriptions
load(system.file("examples", "example.rdata", package = "DEGEmbedR"))
txt <- c(desc1, desc2)

# Generate embeddings
emb <- GenerateTextEmbedding(
  text = txt,
  api_key = "OPENAI_API_KEY"
)

dim(emb)         # rows = number of input texts, cols = 3072
head(emb[, 1:5])  # preview first few dimensions
}

}
\references{
OpenAI API documentation: \url{https://platform.openai.com/docs/api-reference/embeddings}
}
\seealso{
\code{\link[httr]{POST}},
\code{\link[jsonlite]{fromJSON}}
}
\keyword{OpenAI}
\keyword{bioinformatics}
\keyword{embedding}
\keyword{text-representation}
